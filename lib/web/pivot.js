var pivot;(()=>{"use strict";var e={};(()=>{var t=e;function n(e,t,r=(e=>e[t]),u){return n.make(e.map(r).filter(((e,t,n)=>n.indexOf(e)===t)).sort(u),t,r)}function r(e,t){return t.map((t=>e.filter(t.predicate)))}function u(e){return e.length||null}function o(e){return t=>t.length?t.reduce(((t,n)=>t+e(n)),0):null}Object.defineProperty(t,"__esModule",{value:!0}),t.average=t.sum=t.count=t.query=t.pivot=t.axis=void 0,t.axis=n,n.make=function(e,t,n=(e=>e[t])){return e.map((e=>({predicate:t=>n(t)===e,meta:[{key:t,value:e}]})))},n.compose=function(...e){let t=[];for(const n of e)if(t.length){let e=[];for(const r of n)for(const n of t)e.push({predicate:e=>r.predicate(e)&&n.predicate(e),meta:[...r.meta,...n.meta]});t=e}else t=n;return t},t.pivot=function(e,t,n){return r(e,t).map((e=>r(e,n)))},t.query=function(e,t){return e.map((e=>e.map(t)))},t.count=u,t.sum=o,t.average=function(e){return t=>t.length?o(e)(t)/u(t):null}})(),pivot=e})();