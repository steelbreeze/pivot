var pivot;(()=>{"use strict";var e={};(()=>{var r=e;Object.defineProperty(r,"__esModule",{value:!0}),r.average=r.sum=r.count=r.query=r.cube=r.slice=r.axis=void 0;class t{static fromTable(e,r,i=(e=>e[r]),a){return t.fromValues(e.map(i).filter(((e,r,t)=>t.indexOf(e)===r)).sort(a),r,i)}static fromValues(e,r,t=(e=>e[r])){return e.map((e=>({predicate:r=>t(r)===e,criteria:[{key:r,value:e}]})))}static combine(e,r){return r.reduce(((r,t)=>[...r,...e.map((e=>({predicate:r=>t.predicate(r)&&e.predicate(r),criteria:[...t.criteria,...e.criteria]})))]),[])}}function i(e,r){return r.map((r=>e.filter(r.predicate)))}function a(e){return e.length||null}function u(e){return r=>r.length?r.reduce(((r,t)=>r+e(t)),0):null}r.axis=t,r.slice=i,r.cube=function(e,r,t){return i(e,r).map((e=>i(e,t)))},r.query=function(e,r,t){return e.map((e=>e.map((e=>r(t?e.filter(t):e)))))},r.count=a,r.sum=u,r.average=function(e){return r=>r.length?u(e)(r)/a(r):null}})(),pivot=e})();