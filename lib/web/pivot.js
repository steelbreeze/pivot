var pivot;(()=>{"use strict";var e={};((e,t)=>{function r(e,t){return t.map((t=>e.filter(t.predicate)))}function n(e,t){return e.map((e=>e.map(t)))}function i(e){return e.length||null}function c(e){return t=>t.length?t.reduce(((t,r)=>t+e(r)),0):null}Object.defineProperty(t,"__esModule",{value:!0}),t.average=t.sum=t.count=t.query=t.compact=t.pivot=t.slice=t.axis=void 0,function(e){function t(e,t,r=(e=>e[t])){return e.map((e=>({predicate:t=>r(t)===e,criteria:[{key:t,value:e}]})))}e.fromTable=function(e,r,n=(e=>e[r]),i){return t(e.map(n).filter(((e,t,r)=>r.indexOf(e)===t)).sort(i),r,n)},e.fromValues=t,e.combine=function(e,t){return t.reduce(((t,r)=>[...t,...e.map((e=>({predicate:t=>r.predicate(t)&&e.predicate(t),criteria:[...r.criteria,...e.criteria]})))]),[])}}(t.axis||(t.axis={})),t.slice=r,t.pivot=function(e,t,n){return r(e,t).map((e=>r(e,n)))},t.compact=function(e,t,r){const c=n(e,i);for(let r=t.length;r--;)c[r].some((e=>e))||(t.splice(r,1),e.splice(r,1));for(let t=r.length;t--;)c.some((e=>e[t]))||(r.splice(t,1),e.forEach((e=>e.splice(t,1))))},t.query=n,t.count=i,t.sum=c,t.average=function(e){return t=>t.length?c(e)(t)/i(t):null}})(0,e),pivot=e})();