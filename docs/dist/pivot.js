var pivot;(()=>{"use strict";var e={};(()=>{var r=e;function t(e,r,n=(e=>e[r]),i){return t.make(e.map(n).filter(((e,r,t)=>t.indexOf(e)===r)).sort(i),r,n)}function n(e,r){return r.map((r=>e.filter(r.predicate)))}function i(e){return e.length||null}function u(e){return r=>r.length?r.reduce(((r,t)=>r+e(t)),0):null}Object.defineProperty(r,"__esModule",{value:!0}),r.average=r.sum=r.count=r.query=r.pivot=r.axis=void 0,r.axis=t,t.make=function(e,r,t=(e=>e[r])){return e.map((e=>({predicate:r=>t(r)===e,criteria:[{key:r,value:e}]})))},t.join=function(e,r){return r.reduce(((r,t)=>[...r,...e.map((e=>({predicate:r=>t.predicate(r)&&e.predicate(r),criteria:[...t.criteria,...e.criteria]})))]),[])},r.pivot=function(e,r,t){return n(e,r).map((e=>n(e,t)))},r.query=function(e,r){return e.map((e=>e.map(r)))},r.count=i,r.sum=u,r.average=function(e){return r=>r.length?u(e)(r)/i(r):null}})(),pivot=e})();