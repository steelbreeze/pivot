var pivot;(()=>{"use strict";var e={};(()=>{var n=e;function t(e,n,r=(e=>e[n]),u){return t.make(e.map(r).filter(((e,n,t)=>t.indexOf(e)===n)).sort(u),n,r)}function r(e,n){return n.map((n=>e.filter(n.map((e=>e.predicate)).reduce(((e,n)=>t=>e(t)&&n(t))))))}function u(e,n){return e.map((e=>e.map(n)))}function i(e){return e.length||null}function o(e){return n=>n.length?n.reduce(((n,t)=>n+e(t)),0):null}Object.defineProperty(n,"__esModule",{value:!0}),n.average=n.sum=n.count=n.query=n.compact=n.pivot=n.axis=n.dimension=void 0,n.dimension=t,t.make=function(e,n,t=(e=>e[n])){return e.map((e=>({predicate:n=>t(n)===e,meta:{key:n,value:e}})))},n.axis=function(...e){return e.reduce(((e,n)=>e.flatMap((e=>n.map((n=>[...e,n]))))),[[]])},n.pivot=function(e,n,t){return r(e,n).map((e=>r(e,t)))},n.compact=function(e,n,t){const r=u(e,i);for(let t=r.length;t--;)r[t].some((e=>e))||(n.splice(t,1),e.splice(t,1));for(let n=r[0].length;n--;)r.some((e=>e[n]))||(t.splice(n,1),e.forEach((e=>e.splice(n,1))))},n.query=u,n.count=i,n.sum=o,n.average=function(e){return n=>n.length?o(e)(n)/i(n):null}})(),pivot=e})();